<html>

<head>

    <link rel="stylesheet" href='../css/layui.css'/>
    <link rel="stylesheet" href="../css/homePage.css"/>

    <script type="text/javascript" src="../js/jquery-3.3.1.js"></script>
    <script type='text/javascript' src="../js/layui.all.js"></script>
    <script type="text/javascript" src="../js/echarts.js"></script>

    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>首页</title>

</head>

<body>
<!-- 头部标题 -->
<!--<div class="head_title">-->
<!--    <div>首页</div>-->
<!--</div>-->
<!-- 动态数据监控 -->
<div class="grid_view">
    <div class="dynamic_data_watch">
        <span>动态数据监控</span>
    </div>
    <div class="service_company">
        <p>劳务公司<span>(单位:个)</span></p>
        <p><span>57</span><span>/</span><span>较昨日上升1</span></p>
    </div>
    <div class="present_person">
        <p>在场人员<span>(单位:人)</span></p>
        <p><span>1200</span><span>/</span><span>较昨日上升10</span></p>
    </div>
    <div class="attend_situation">
        <p>出勤情况<span>(出勤/在场)</span></p>
        <p><span>1200</span><span>/</span><span>1000</span></p>
        <div class="layui-progress" lay-showPercent="yes" lay-filter="attend_situation">
            <div class="layui-progress-bar layui-bg-blue"></div>
        </div>
        <span>90%</span>
    </div>
    <div class="prew_work_train">
        <p>班前教育<span>(签到/出勤)</span></p>
        <p><span>800</span><span>/</span><span>900</span></p>
        <div class="layui-progress" lay-showPercent="yes" lay-filter="prew_work_train">
            <div class="layui-progress-bar layui-bg-blue"></div>
        </div>
        <span>90%</span>
    </div>
    <div class="data_static">
        <div id="contract_cover_rate"></div>
        <div id="work_train_rate">进场教育覆盖率</div>
        <div id="salary_paid_rate">薪酬发放率</div>
    </div>
    <div class="warn_notice">
        <div>
            <span>消息通知</span><span>预警</span>
        </div>
        <div>
            <span>1</span><span>详细内容... ...</span><span>17:45</span>
        </div>
        <div>
            <span>2</span><span>详细内容... ...</span><span>17:45</span>
        </div>
        <div>
            <span>3</span><span>详细内容... ...</span><span>17:45</span>
        </div>
        <div>
            <span>4</span><span>详细内容... ...</span><span>17:45</span>
        </div>
        <div>
            <span>5</span><span>详细内容... ...</span><span>17:45</span>
        </div>

    </div>
    <div class="dynamic_data_analyze">
        <span>动态数据分析</span>
    </div>
    <div class="dynamic_data_content">
        <div id="data_table"></div>

    </div>
    <div class="data_static_summary">
        <div>
            <span>累计数据统计</span><span>更多></span>
        </div>
        <div>
            <span>累计进场人数</span><span>17483</span><span>人</span>
        </div>
        <div>
            <span>累计退场人数</span><span>17483</span><span>人</span>
        </div>
        <div>
            <span>累计发放工资</span><span>17483</span><span>万元</span>
        </div>
        <div>
            <span>权益举报</span><span>17483</span><span>次</span>
        </div>
        <div>
            <span>黑名单人数</span><span>17483</span><span>人</span>
        </div>
    </div>
</div>

</body>
<script>
    $().ready(function () {

        layui.use('element', function () {
            let element = layui.element;
            element.progress('attend_situation', "90%");
            element.progress('prew_work_train', "90%");
        });

        let cover_rate = echarts.init(document.getElementById("contract_cover_rate"));//实例初始化
        let train_rate = echarts.init(document.getElementById("work_train_rate"));//实例初始化
        let paid_rate = echarts.init(document.getElementById("salary_paid_rate"));//实例初始化
        let cover_option = {
            text: "合同覆盖率",
            color: ['blue', '#d4effa'],
            value: 70,
        }
        let train_option = {
            text: "进场教育覆盖率",
            color: ['yellow', '#d4effa'],
            value: 70,
        }
        let paid_option = {
            text: "薪酬支付覆盖率",
            color: ['pinkie', '#d4effa'],
            value: 70,
        }

        //饼状图
        function option(option_data) {
            let that = option_data;
            let option = {
                backgroundColor: null,
                color: that.color,
                title: {
                    text: that.text,
                    top: '3%',
                    left: '1%',
                    textStyle: {
                        color: 'red',//标题颜色
                        fontStyle: 'normal',
                        fontWeight: 'normal',
                        fontFamily: 'sans-serif',
                        fontSize: 16,
                    }
                },
                series: [{
                    name: '来源',
                    type: 'pie',
                    radius: ['60%', '75%'],
                    // startAngle:0,//起始角度
                    startAngle: (that.value - 100) / 100 * 180,//起始角度
                    avoidLabelOverlap: false,
                    hoverAnimation: false,
                    label: {
                        normal: {
                            show: false,
                            position: 'center',
                            textStyle: {
                                fontSize: 16,
                                fontWeight: 'bold'
                            },
                            formatter: '{b}\n{c}%'
                        }
                    },
                    data: [{
                        value: that.value,
                        name: "",
                        label: {
                            normal: {
                                show: true,
                                color: 'black',//内部字体颜色
                            }
                        }
                    },
                        {
                            value: 100 - that.value,
                            name: '',
                        }

                    ]
                }]
            };
            return option;
        }

        cover_rate.setOption(option(cover_option))
        train_rate.setOption(option(train_option))
        paid_rate.setOption(option(paid_option))
        //折线图
        let data_table = echarts.init(document.getElementById("data_table"));//实例初始化

        let option_line = {
            title: {
                text: '折线图堆叠'
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data: ['良好行为', '不良行为']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            toolbox: {
                feature: {
                    saveAsImage: {}
                }
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10',]
            },
            yAxis: {
                type: 'value'
            },
            series: [
                {
                    name: '良好行为',
                    type: 'line',
                    stack: '总量',
                    data: [120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90, 230, 210]
                },
                {
                    name: '不良行为',
                    type: 'line',
                    stack: '总量',
                    data: [220, 182, 191, 234, 290, 330, 310, 191, 234, 290, 330, 310, 191, 234, 290, 330, 310, 191, 234, 290, 330, 310, 191, 234, 290, 330, 310]
                }
            ]
        };
        data_table.setOption(option_line)

    })
</script>

</html>
